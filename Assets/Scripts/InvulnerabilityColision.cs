using UnityEngine;
using System.Collections;

public class InvulnerabilityColision : MonoBehaviour {

	private GameController mGameController;
	private bool mIsInvulnerable = false;
    private GameObject playerObject;

	void Start () {
		GameObject gameControlObject = GameObject.FindWithTag ("GameController");
        playerObject = GameObject.FindWithTag ("Player");
        playerObject.GetComponent<ParticleSystem>().Stop();
		if (gameControlObject != null) {
			mGameController = gameControlObject.GetComponent <GameController>(); //get this instance's own game controller connection
		}
		if (mGameController == null) {
			Debug.Log("Cannot find 'GameController' script"); //logging in case unable to find gamecontroller
		}
	}

	void OnTriggerEnter (Collider other) {
		Debug.Log("Invulnerability hit" + other);
		if (other.tag == "Player") {
			playerObject.GetComponent<TooBeeController>().setIsInvulnerable(true);

			Destroy (gameObject);
		}
	}

	public bool getIsInvulnerable() {
		return mIsInvulnerable;
	}
}
